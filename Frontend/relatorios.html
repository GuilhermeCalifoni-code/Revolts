<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relatórios | EnergyControl</title>
    <link rel="stylesheet" href="css/dashboard.css" /><link rel="stylesheet" href="css/app-extra.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
</head>
<body class="theme-dark">
    <aside class="sidebar">
        <div class="brand"><div class="logo"><svg width="28" height="28" viewBox="0 0 24 24"><use href="assets/icons.svg#bolt"></use></svg></div><div class="brand-text"><div class="brand-title">EnergyControl</div><div class="brand-sub">Pro Dashboard</div></div></div>
        <nav class="nav">
            <a class="nav-item" href="dashboard.html"><svg class="nav-ico" width="18" height="18"><use href="assets/icons.svg#grid"></use></svg><span>Dashboard</span></a>
            <a class="nav-item" href="metricas.html"><svg class="nav-ico" width="18" height="18"><use href="assets/icons.svg#activity"></use></svg><span>Métricas</span></a>
            <a class="nav-item" href="simulador.html"><svg class="nav-ico" width="18" height="18"><use href="assets/icons.svg#cpu"></use></svg><span>Simulador</span></a>
            <a class="nav-item" href="previsoes.html"><svg class="nav-ico" width="18" height="18"><use href="assets/icons.svg#trending-up"></use></svg><span>Previsões</span></a>
            <a class="nav-item nav-item--active" href="relatorios.html" aria-current="page"><svg class="nav-ico" width="18" height="18"><use href="assets/icons.svg#file-text"></use></svg><span>Relatórios</span></a>
            <a class="nav-item" href="configuracoes.html"><svg class="nav-ico" width="18" height="18"><use href="assets/icons.svg#settings"></use></svg><span>Configurações</span></a>
        </nav>
        <div class="sidebar-footer"><span class="status-dot"></span><small>Sistema Online</small></div>
    </aside>
    <main class="content" role="main">
        <header class="topbar">
            <button class="btn-burger" id="btnBurger"><svg width="22" height="22" viewBox="0 0 24 24"><use href="assets/icons.svg#menu"></use></svg></button>
            <div class="topbar-left"><small class="top-sub">Análise de Consumo</small><h1>Gerador de Relatórios</h1></div>
            <div class="topbar-right"><div class="badge-online"><svg width="16" height="16" viewBox="0 0 24 24"><use href="assets/icons.svg#wifi"></use></svg><span>Online</span></div></div>
        </header>
        <section class="cards-row">
            <article class="card card--xl">
                <header class="card-head"><h3 class="card-title">Filtros do Relatório</h3></header>
                <form id="form-filtros" class="form-grid">
                    <label class="form-field"><span>Data de Início</span><input id="startDate" type="date" class="input"></label>
                    <label class="form-field"><span>Data de Fim</span><input id="endDate" type="date" class="input"></label>
                    <label class="form-field"><span>Dispositivo</span><select id="deviceSelector" class="select"><option value="todos">Todos os Dispositivos</option></select></label>
                    <button id="btnGerar" type="button" class="btn btn--green">Gerar Relatório</button>
                </form>
            </article>
        </section>
        <section id="preview-section" class="cards-row" style="display: none;">
            <article class="card card--xl">
                <header class="card-head"><h3 class="card-title">Pré-visualização do Relatório</h3></header>
                <div class="report-summary">
                    <p><strong>Período:</strong> <span id="previewPeriodo">--</span></p>
                    <p><strong>Consumo Total:</strong> <span id="previewKwh">--</span></p>
                    <p><strong>Custo Total:</strong> <span id="previewCusto">--</span></p>
                </div>
                <table class="report-table">
                    <thead><tr><th>Dispositivo</th><th>Consumo (kWh)</th><th>Custo (R$)</th></tr></thead>
                    <tbody id="previewTableBody"></tbody>
                </table>
            </article>
        </section>
    </main>
    <script src="js/relatorios.js" type="module"></script>
    <script src="js/ui.js" defer></script>
</body>
</html>